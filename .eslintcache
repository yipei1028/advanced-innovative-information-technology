[{"/Users/Yi-Pei/code/advanced-innovative-information-technology/src/serviceWorker.js":"1","/Users/Yi-Pei/code/advanced-innovative-information-technology/src/App.js":"2","/Users/Yi-Pei/code/advanced-innovative-information-technology/src/features/counter/Chart/Wanshou.js":"3","/Users/Yi-Pei/code/advanced-innovative-information-technology/src/features/counter/Chart/Baoqiao.js":"4","/Users/Yi-Pei/code/advanced-innovative-information-technology/src/index.js":"5","/Users/Yi-Pei/code/advanced-innovative-information-technology/src/features/counter/Chart/Comparison.js":"6"},{"size":5141,"mtime":1609652186548,"results":"7","hashOfConfig":"8"},{"size":460,"mtime":1610273211748,"results":"9","hashOfConfig":"8"},{"size":2609,"mtime":1610263850089,"results":"10","hashOfConfig":"8"},{"size":2684,"mtime":1610263842026,"results":"11","hashOfConfig":"8"},{"size":522,"mtime":1610284247572,"results":"12","hashOfConfig":"8"},{"size":3301,"mtime":1610273196878,"results":"13","hashOfConfig":"8"},{"filePath":"14","messages":"15","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1sk4hpc",{"filePath":"16","messages":"17","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"18","messages":"19","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"20","messages":"21","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"24","messages":"25","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"26"},"/Users/Yi-Pei/code/advanced-innovative-information-technology/src/serviceWorker.js",[],"/Users/Yi-Pei/code/advanced-innovative-information-technology/src/App.js",[],"/Users/Yi-Pei/code/advanced-innovative-information-technology/src/features/counter/Chart/Wanshou.js",["27"],"/Users/Yi-Pei/code/advanced-innovative-information-technology/src/features/counter/Chart/Baoqiao.js",["28"],"/Users/Yi-Pei/code/advanced-innovative-information-technology/src/index.js",[],"/Users/Yi-Pei/code/advanced-innovative-information-technology/src/features/counter/Chart/Comparison.js",["29"],"import React, { useState, useEffect } from 'react';\nimport Highcharts from 'highcharts';\nimport HighchartsReact from 'highcharts-react-official';\n\nfunction Comparison() {\n  const [options, setOptions] = useState({\n    title: {\n      text: \"萬壽橋測站與寶橋橋測站 河川污染指數 (RPI) 測項 歷史趨勢比較圖 (2019/01~2020/10)\",\n    },\n    chart: {\n        type: 'column'\n    },\n    xAxis: {\n      categories: [\n        \"2019/01\",\n        \"2019/02\",\n        \"2019/03\",\n        \"2019/04\",\n        \"2019/05\",\n        \"2019/06\",\n        \"2019/07\",\n        \"2019/08\",\n        \"2019/09\",\n        \"2019/10\",\n        \"2019/11\",\n        \"2019/12\",\n        \"2020/01\",\n        \"2020/02\",\n        \"2020/03\",\n        \"2020/04\",\n        \"2020/05\",\n        \"2020/06\",\n        \"2020/07\",\n        \"2020/08\",\n        \"2020/09\",\n        \"2020/10\",\n      ],\n    },\n    yAxis: {\n      title: {\n        text: \"mg/L\",\n      },\n    },\n    series: [{\n        name: '萬壽橋測站',\n        data: []\n    }, {\n        name: '寶橋橋測站',\n        data: []\n    }],\n    });\n\n  useEffect(async () => {\n    let headers = {\n      \"Content-Type\": \"application/json\",\n      Authorization:\n        \"ApiKey eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJjbGllbnRJZCI6ImJ6QnFGWTBaeCIsIm9yZ0lkIjoiSk9FOEVnNFgzIiwidXNlcklkIjpudWxsLCJyb2xlIjpudWxsLCJ0eXBlIjoiQXBpS2V5Iiwic2NvcGVzIjpbXSwiaWF0IjoxNjA4MTk4ODY2LCJqdGkiOiIwWlNndVJUNUsifQ.UXsafM1cLLgu4SmGIYQoVzK6jdKruz-vv3U46pJqzaY\",\n    };\n\n    const WanShouResult = await fetch(\n      \"https://api.paas.oringnet.cloud/v4/things/syjmHv7z-/data-buckets/sensorData/timeline?&dataShapes=fullDataPackt&limit=20\",\n      {headers,}\n    ).then(response => response.json())\n    .then(data => {\n      return data.data;\n    });\n\n    const BaoqiaoResult = await fetch(\n      \"https://api.paas.oringnet.cloud/v4/things/syjmHv7z-/data-buckets/sensorData2/timeline?&dataShapes=fullDataPackt&limit=20\",\n      {headers,}\n    ).then(response => response.json())\n    .then(data => {\n      return data.data;\n    });\n\n    const sortedResult = [\n      {\n        name: '萬壽橋測站',\n        data: [6, 4, 2]\n      }, {\n          name: '寶橋橋測站',\n          data: [8, 4, 3]\n      }\n    ];\n\n    WanShouResult.forEach((item) => {\n      const DO = parseFloat(JSON.parse(item.values[0].value.replace(/'/g, '\"')).DO);\n      const BOD = parseFloat(JSON.parse(item.values[0].value.replace(/'/g, '\"')).BOD);\n      const SS = parseFloat(JSON.parse(item.values[0].value.replace(/'/g, '\"')).SS);\n      const Nitrogen = parseFloat(JSON.parse(item.values[0].value.replace(/'/g, '\"')).Nitrogen);\n      sortedResult[0].data.push((DO+BOD+SS+Nitrogen)/4);\n    });\n\n    BaoqiaoResult.forEach((item) => {\n      const DO = parseFloat(JSON.parse(item.values[0].value.replace(/'/g, '\"')).DO);\n      const BOD = parseFloat(JSON.parse(item.values[0].value.replace(/'/g, '\"')).BOD);\n      const SS = parseFloat(JSON.parse(item.values[0].value.replace(/'/g, '\"')).SS);\n      const Nitrogen = parseFloat(JSON.parse(item.values[0].value.replace(/'/g, '\"')).Nitrogen);\n      sortedResult[1].data.push((DO+BOD+SS+Nitrogen)/4);\n    });\n\n    setOptions({ series: sortedResult });\n  }, []);\n\n  return (\n    <HighchartsReact\n      highcharts={Highcharts}\n      options={options}\n    />\n  );\n}\n\nexport default Comparison;\n",{"ruleId":"30","severity":1,"message":"31","line":45,"column":13,"nodeType":"32","endLine":92,"endColumn":4},{"ruleId":"30","severity":1,"message":"31","line":45,"column":13,"nodeType":"32","endLine":92,"endColumn":4},{"ruleId":"30","severity":1,"message":"31","line":53,"column":13,"nodeType":"32","endLine":103,"endColumn":4},"react-hooks/exhaustive-deps","Effect callbacks are synchronous to prevent race conditions. Put the async function inside:\n\nuseEffect(() => {\n  async function fetchData() {\n    // You can await here\n    const response = await MyAPI.getData(someId);\n    // ...\n  }\n  fetchData();\n}, [someId]); // Or [] if effect doesn't need props or state\n\nLearn more about data fetching with Hooks: https://reactjs.org/link/hooks-data-fetching","ArrowFunctionExpression"]